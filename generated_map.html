<!DOCTYPE html>
<html>
	<head>
		<title>Bitcraft Biome Map</title>
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin=""/>
		<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>
    <script src="https://rawgit.com/kawanet/msgpack-lite/master/dist/msgpack.min.js" crossorigin=""></script>
		<style>
      html, body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        height: 100%;
      }
			#map {
				height: 100vh;
				width: 100%;
        background-color: #222d44;
			}
    </style>
	</head>
	<body>
    <div id="map"></div>
    <script>
      const tileSize = 128
      const ChunkLayer = L.GridLayer.extend({
        createTile: function (coords) {
          const tile = document.createElement('img');
          tile.width = this.getTileSize().x;
          tile.height = this.getTileSize().y;
          const chunkX = 239 - coords.y;
          const chunkY = coords.x;
          tile.src = `assets/chunk_${chunkY}_${chunkX}.png`;
          tile.onerror = function () {
            tile.src = 'placeholder.png';
          };
          return tile;
        }
      });
      const map = L.map('map', {
        crs: L.CRS.Simple,
        minZoom: 0,
        maxZoom: 0,
        maxNativeZoom: 0,
        zoom: 0,
        center: [0, 0],
        bounds: [[0, 0], [80, 80]], 
      });
      const layer = new ChunkLayer(
        { tileSize: tileSize }
        
      );
      layer.addTo(map);
    </script>
	</body>
</html>
